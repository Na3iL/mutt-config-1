# vim: ft=muttrc

  set alias_file        = ~/.mutt/aliases
  set alias_format      = "%4n %t %-20a %r"
  set askcc
  set beep_new
unset confirmappend
  set date_format       = "%m/%d/%y at %I:%M%P"
  set delete
  set edit_headers
  set editor            = "vim +:silent+?^$"
  set fast_reply
  set folder            = ~/Mail
  set forward_format    = "Fwd: %s"
  set forward_quote
  set include
  set index_format      = "%3C %Z %[!%m/%d] %-17.17F %s"
  set ispell            = "aspell -e -c"
  set mail_check        = 0
  set mailcap_path      = ~/.mutt/mailcap
unset mark_old
unset markers
  set mbox_type         = Maildir
  set menu_scroll
  set pager_context     = 5
  set pager_index_lines = 10
  set pager_stop
  set pipe_decode
  set print_command     = "enscript -p - | psselect -r | lp"
  set quote_regexp      = "^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+"
  set realname          = "Patrick Brisbin"
  set reply_regexp      = "^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*"
  set reply_to
  set reverse_alias
  set reverse_name
  set sort              = threads
  set sort_aux          = reverse-last-date-received
unset sort_re
  set spoolfile         = "+Gmail/INBOX"
  set thorough_search
  set thread_received
  set tilde
  set timeout           = 3
  set tmpdir            = ~/.mutt/temp
unset wait_key

# non-standard
  set nm_default_uri    = "notmuch:///home/patrick/Mail"
  set sidebar_delim     = 'â”‚'
  set sidebar_visible   = yes
  set sidebar_width     = 35

alternates .*@pbrisbin\.com

auto_view text/html
alternative_order text/plain text/enriched text/html

folder-hook Gmail/*  source ~/.mutt/accounts/gmail
folder-hook Ideeli/* source ~/.mutt/accounts/ideeli

# collapse all threads in ML folders
folder-hook Gmail/(arch_lists|xmonad_list|web_devel|yesod) "exec collapse-all"

ignore *
unignore from: to: cc: date: subject:
hdr_order from: to: cc: date: subject:

subscribe arch-announce arch-dev-public arch-haskell aur-general \
          web-devel xmonad yesod

# this list defines the formatting of the sidebar entries
mailboxes +Gmail             \
          +Gmail/INBOX       \
          +Gmail/recruiting  \
          +Gmail/server      \
          +Gmail/all_mail    \
          +Gmail/sent_mail   \
          +Gmail/arch_lists  \
          +Gmail/web_devel   \
          +Gmail/xmonad_list \
          +Gmail/yesod       \
          +Ideeli            \
          +Ideeli/INBOX      \
          +Ideeli/sent_mail  \

bind index i  noop
bind index gg first-entry
bind index G  last-entry
bind pager i  exit
bind pager q  toggle-quoted
bind pager /  search
bind pager j  next-line
bind pager k  previous-line
bind pager gg top
bind pager G  bottom
bind index,pager \# noop
bind index,pager \& noop
bind index,pager R  group-reply

# non-standard
bind index ,s vfolder-from-query
bind index,pager J sidebar-next
bind index,pager K sidebar-prev
bind index,pager O sidebar-open

macro index ,i "<change-folder>!<return>" "go to inbox"
macro index ,p "<pipe-message>cat > ~/" "save message as"
macro index ,z "<shell-escape>offlineimap -q -o<return>" "sync IMAP"
macro index ,r "<tag-pattern>all<return><tag-prefix><clear-flag>N<untag-pattern>all<return>" "mark all as read"
macro index ,R "<collapse-all><tag-pattern>all<return><tag-prefix><clear-flag>N<untag-pattern>all<return><collapse-all>" "mark all as read (collapsed)"
macro index ,v "<collapse-thread>" "collapse/uncollapse thread"
macro index ,V "<collapse-all>"    "collapse/uncollapse all threads"

source $alias_file
source ~/.mutt/colors
source ~/.mutt/accounts/gmail
